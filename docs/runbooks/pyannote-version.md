# Версия pyannote.audio

Источник истины для версии: `pyproject.toml` (зависимость `pyannote.audio`).

## Текущая версия

- **4.0.4** — зафиксирована в `pyproject.toml` (alpha2).

## При OOM на машинах с 8 ГБ RAM

На части машин с 8 ГБ оперативной памяти pyannote 4.x может приводить к Out of Memory при загрузке модели или диаризации. В этом случае допустим **откат на 3.3.2**.

**Шаги отката:**

1. В `pyproject.toml` заменить зависимость на `pyannote.audio==3.3.2`.
2. Выполнить `uv sync` (или `pip install -e .`) в окружении проекта.
3. Проверить совместимость API: в коде демона/пайплайна используются вызовы pyannote (загрузка модели, диаризация); при переходе 4.x → 3.x возможны изменения сигнатур — пройти тесты и при необходимости адаптировать вызовы.
4. Зафиксировать в этом runbook фактическую версию после отката (например: «3.3.2 (откат из-за OOM на 8 ГБ)»).

После стабилизации памяти или обновления pyannote можно вернуться на 4.x и снова зафиксировать версию здесь.
